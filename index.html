<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Jornal 7ºA Desidério</title>
    </head>
<body class="bg-black">

<main class="container mx-auto px-4 py-8 md:py-12">
    </main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    function renderNews() {
        const newsContainer = document.getElementById('news-container');
        // ATUALIZAÇÃO: Agora chama nosso atalho seguro /api/
        const url = `/api/airtable?table=Noticias`;

        fetch(url)
        .then(response => response.json())
        .then(data => {
            // ... (código para mostrar as notícias) ...
        })
        .catch(error => {
            console.error('Erro ao buscar notícias:', error);
            newsContainer.innerHTML = '<p class="text-red-500 font-bold">Falha ao carregar notícias.</p>';
        });
    }

    async function fetchEvents(year, month) {
        // ATUALIZAÇÃO: Agora chama nosso atalho seguro /api/
        const url = `/api/airtable?table=Calendario`;
        
        try {
            const response = await fetch(url);
            // ... (resto do código para buscar eventos) ...
        } catch (error) {
            console.error('Erro ao buscar eventos:', error);
            return {};
        }
    }

    // ... (resto do seu JavaScript) ...
    
    renderNews();
    renderCalendar(currentDate);

});
</script>
</body>
</html>
